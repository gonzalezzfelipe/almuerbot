{% extends "base.html.j2" %}

{% block content %}
<div class="container" style="margin-top: 10px">
  <div class="container" style="margin-top: 10px">
    {% if response.status_code == 200 %}
      <h2 class='success'>Success!</h2>
      <p class='submit'>The {{ kind }} was created succesfully.</p>
      <table class="submit" id="scheduled_report" summary="Report values">
        <tbody class="group1">
          {% for k, v in response.json()['obj'].items() %}
            {% if k == 'schedule_interval'%}
              <tr><th scope="row">{{ snake_case_to_human(k) }}</th><td>{{ get_description(v) }}</td></tr>
            {% elif k in ('pivot_params', 'cohort_params') %}
              <tr><th scope="row">{{ snake_case_to_human(k) }}</th><td>{{ dumps(v) }}</td></tr>
            {% else %}
              <tr><th scope="row">{{ snake_case_to_human(k) }}</th><td>{{ v }}</td></tr>
            {% endif %}
          {% endfor %}
      </table>
    {% else %}
      <h2 class='failure'>Something went wrong.</h2>
      <p class='submit'>The automated report couldnt be created. If this error
        persists, contact the data team.</p>
      <p class='error'>{{ response.json()['message'] }}</p>
    {% endif %}
  </div>
</div>
{% endblock %}
{% block scripts %}
  {{ super() }}
  <script type="text/javascript">
    $(document).ready(function () {});
  </script>
{% endblock %}
